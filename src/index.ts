#!/usr/bin/env node

import { readdirSync }                     from "fs"
import { join }                            from "path"
import { processCommand, registerCommand } from "./util/commands"

readdirSync(join(__dirname, "commands"))
    .forEach(file => {
        require(`./commands/${ file.substring(0, file.lastIndexOf(".")) }`)
            .default(registerCommand)
    })

console.log()
if (Math.random() < 0.85) {
    console.log(`
██╗ ██████╗███╗   ███╗ ██████╗ ██████╗     ████████╗ ██████╗  ██████╗ ██╗      ██████╗██╗  ██╗ █████╗ ██╗███╗   ██╗
██║██╔════╝████╗ ████║██╔═══██╗██╔══██╗    ╚══██╔══╝██╔═══██╗██╔═══██╗██║     ██╔════╝██║  ██║██╔══██╗██║████╗  ██║
██║██║     ██╔████╔██║██║   ██║██║  ██║       ██║   ██║   ██║██║   ██║██║     ██║     ███████║███████║██║██╔██╗ ██║
██║██║     ██║╚██╔╝██║██║   ██║██║  ██║       ██║   ██║   ██║██║   ██║██║     ██║     ██╔══██║██╔══██║██║██║╚██╗██║
██║╚██████╗██║ ╚═╝ ██║╚██████╔╝██████╔╝       ██║   ╚██████╔╝╚██████╔╝███████╗╚██████╗██║  ██║██║  ██║██║██║ ╚████║
╚═╝ ╚═════╝╚═╝     ╚═╝ ╚═════╝ ╚═════╝        ╚═╝    ╚═════╝  ╚═════╝ ╚══════╝ ╚═════╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝╚═╝  ╚═══╝
`)
} else {
    console.log(`
██╗ ██████╗███╗   ███╗ ██████╗ ██████╗     ████████╗ ██████╗  ██████╗ ██╗      ██████╗██╗  ██╗██╗     ███████╗███╗   ██╗
██║██╔════╝████╗ ████║██╔═══██╗██╔══██╗    ╚══██╔══╝██╔═══██╗██╔═══██╗██║     ██╔════╝██║  ██║██║     ██╔════╝████╗  ██║
██║██║     ██╔████╔██║██║   ██║██║  ██║       ██║   ██║   ██║██║   ██║██║     ██║     ███████║██║     █████╗  ██╔██╗ ██║
██║██║     ██║╚██╔╝██║██║   ██║██║  ██║       ██║   ██║   ██║██║   ██║██║     ██║     ██╔══██║██║     ██╔══╝  ██║╚██╗██║
██║╚██████╗██║ ╚═╝ ██║╚██████╔╝██████╔╝       ██║   ╚██████╔╝╚██████╔╝███████╗╚██████╗██║  ██║███████╗███████╗██║ ╚████║
╚═╝ ╚═════╝╚═╝     ╚═╝ ╚═════╝ ╚═════╝        ╚═╝    ╚═════╝  ╚═════╝ ╚══════╝ ╚═════╝╚═╝  ╚═╝╚══════╝╚══════╝╚═╝  ╚═══╝
`)
}

processCommand(process.argv.slice(2))
